python run_lm_finetuning.py --train_data_file tests_samples/PMC6961255.txt --output_dir save_dir --model_type bert --mlm --tokenizer_name bert-base-cased --model_name_or_path bert-base-cased



BIOMLT Predict script
python biomlt.py --predict --squad_predict_file ~/biobert_data/datasets/QA/BioASQ/BioASQ-test-factoid-6b-1.json --load_model_path save_dir/qas_2_9_9_50


qsub biomlt_predict_submit.sh save_dir/qas_3_9_11_49 ~/biobert_data/datasets/QA/BioASQ/BioASQ-test-factoid-6b-1.json nbest_out

qsub biomlt_train_predict.sh train_predict_save1 ../biobert_data/datasets/QA/BioASQ/BioASQ-test-factoid-6b-1.json


ToY example scripts!!


!!toy yes-no ( use overwrite_cache and squad_yes_no flags!!)

python biomlt.py --mode joint_flat --squad_train_file toy_yesno.json --init_bert --ner_train_file ent_toy_ner_train.tsv --squad_dir . --batch_size 1 --max_seq_length 20 --squad_predict_file toy_qas.json  --squad_yes_no --overwrite_cache



!!toy train_qas (I would like to try loading model parameters to a larger model)

python biomlt.py --mode qas --squad_train_file toy_qas.json --init_bert--squad_dir . --batch_size 1 --max_seq_length 20 --squad_predict_file toy_qas.json


!! toy train load previous model  ! ! load_all_model works!!

python biomlt.py --mode qas --squad_train_file toy_qas.json --init_bert --squad_dir . --batch_size 1 --max_seq_length 20 --squad_predict_file toy_qas.json  --load_model_path save_dir/qas_2_16_3_42 --load_model

python biomlt.py --mode qas --squad_train_file toy_qas.json  --squad_dir . --batch_size 12  --squad_predict_file toy_qas.json  --init_bert



## Train on 8b test on 7b-trainn

python biomlt_alldata.py --load_model_path key_models/mybiobert_finetunedsquad --model_save_name alldata_8b_0403 --num_train_epochs --squad_train_factoid_file ~/biobert_data/BioASQ-training8b/training8b_squadformat_train_factoid.json --squad_train_list_file ~/biobert_data/BioASQ-training8b/training8b_squadformat_train_list.json --squad_train_yesno_file ~/biobert_data/BioASQ-training8b/training8b_squadformat_train_yesno.json --squad_predict_factoid_file ~/biobert_data/BioASQ-7b/train/Snippet-as-is/train_factoid_7b_snippet.json --squad_predict_list_file ~/biobert_data/BioASQ-7b/train/Snippet-as-is/train_list_7b_snippet.json --squad_predict_yesno_file ~/biobert_data/BioASQ-7b/train/Snippet-as-is/train_yesno_7b_snippet.json --max_seq_length 256 

